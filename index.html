 <!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>가위 바위 보</title>
		<style>
			div{position:absolute;}
			.name{top:0px; left:0px; width:300px; height:20px;border: 2px solid black;}
			#com{top:25px; left:0px; width:150px; height:150px; border: 2px solid black;}
			#player{top:25px; left:150px; width:150px; height:150px; border: 2px solid black;}
			#result{top:180px; left:0px ;width:300px; height:20px; border: 2px solid black;}
			#reload{top:210px; left:0px ;width:300px; height:20px; text-align:center;}
			img{width:150px; height:150px;}
		</style>
		
	</head>
	
<body>
	<div class="name" style="width:150px; text-align:center;">컴퓨터</div><div class="name"  style="left:150px; width:150px; text-align:center;">사용자</div>
	<div id="com"><img id="comHand"></img></div>
	<div id="player"><img id="playerHand"></img></div>
	<div id="result"></div>
	<div id="reload"><button id="reloadBtn">한번 더</button></div>

<script
  src="http://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<script>

  // 플레이어 입력 & 알맞은 값인지 판단
var player;
function input(){
    $('#reload').hide(); // 처음에는 한번 더 버튼을 안보이게.
	// 플레이어 입력
	player=prompt('가위? 바위? 보?','');

	// 알맞은 값이면 게임 진행
	// =player가 가위,바위,보 중에 하나면
	if(player=='가위' || player=='바위' || player=='보'){
		// 게임진행
		game();
	}
	// 취소누르면 게임 끝
	// = player 가 null 이면 게임 끝
	else if(player==null){ 
		return; // 함수를 끝낸다.(강제종료)
	}
	// 아니면 다시 입력
	else{
		alert('입력값이 잘못되었습니다.\n가위,바위,보 중에 하나만 입력하세요!'); // 요건 그냥 추가
		input();
	}
}
input();

function game(){
	// 컴퓨터 입력=난수 3개 발생
	var com=Math.floor(Math.random()*3)
	// 컴의 가위 바위 보 결정
	if(com==0){ // com이 0이면 가위
		com='가위'; // == 는 값을 비교할 때 사용
	}
	else if(com==1){ // com이 1이면 바위
		com='바위';
	}
	else{ // 둘 다 아니면 보= com 이 2
		com='보';
	}
	// 결과판단
	/*if(com=='가위'){
		if(player=='가위'){}
		else if(player=='바위'){}
		else{}
	}
	else if(com=='바위'){
		if(player=='가위'){}
		else if(player=='바위'){}
		else{}
	}
	else{
		if(player=='가위'){}
		else if(player=='바위'){}
		else{}
	} */
	//alert(com +":"+player);
	//무승부
	if(com==player){
	    $('#result').text('비겼습니다.');
	}
	//player승
	else if( (com=='가위' && player=='바위') ||
				(com=='바위' && player=='보') ||
				(com=='보' && player=='가위') ){
		$('#result').text('이겼습니다.');
	}
	//player패
	else {
		$('#result').text('졌습니다.');
	}
	// 결과출력
	// player결과 출력
	if (player=='가위'){ // 플레이어가 가위면 가위그림 출력
		$('#playerHand').attr('src','scissors.png');
	}
	else if (player=='바위'){
		$('#playerHand').attr('src','rock.png');
	}
	else {
		$('#playerHand').attr('src','paper.png');
	}
	// 컴퓨터 결과 출력
	if (com=='가위'){ //컴퓨터가 가위면 가위그림 출력
		$('#comHand').attr('src','scissors.png');
	}
	else if (com=='바위'){
		$('#comHand').attr('src','rock.png');
	}
	else {
		$('#comHand').attr('src','paper.png');
	}
	$('#playerHand').attr('alt',player); // 이미지가 없거나 깨졌을 때에 어떤 이미지인지 설명이 필요할 수 있어서 추가 했어요.
	$('#comHand').attr('alt',com);
	$('#reload').show(); // 한번 더 버튼을 보여주세요 기능.
}

// 한번 더 버튼 클릭하면 호출됨.
$(function(){
	$('#reloadBtn').click(function(){
		input();
	});
});

</script>
</body>
	<script>
	/*
	alert( Math.round(1.2) ); 반올림
	alert( Math.floor(1.2) ); 내림
	alert( Math.PI ); 파이
	alert( Math.cos(60) ); 
	alert( Math.random() ); */ 
	</script>
</html>
